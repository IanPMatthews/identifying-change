<!DOCTYPE html>
<html lang="en">
<head>
  <script>
document.addEventListener("DOMContentLoaded", function() {
  var plot = document.getElementsByClassName("plotly-graph-div")[0];

  plot.on('plotly_click', function(data) {
    var x = data.points[0].x;
    var y = data.points[0].y;

    // Add marker to graph
    Plotly.addTraces(plot, {
      x: [x],
      y: [y],
      type: 'scatter',
      mode: 'markers',
      marker: { color: 'red', size: 10 },
      name: 'Student Annotation'
    });

    // Send to Google Sheets via webhook
    fetch("https://sheetdb.io/api/v1/rb8zgntocyoom", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ data: [{ time: x, value: y }] })
    });
  });
});
</script>

<meta charset="utf-8"/>
<style>body{background-color:white;}</style>
<script src="index_files/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="index_files/plotly-binding-4.10.2/plotly.js"></script>
<script src="index_files/typedarray-0.1/typedarray.min.js"></script>
<script src="index_files/jquery-3.5.1/jquery.min.js"></script>
<link href="index_files/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="index_files/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="index_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="index_files/plotly-main-2.11.1/plotly-latest.min.js"></script>
  <title>plotly</title>
</head>
<body>
<div id="htmlwidget_container">
  <div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ab539ad61ceecce6c2e1" style="width:100%;height:400px;"></div>
</div>
<script type="application/json" data-for="htmlwidget-ab539ad61ceecce6c2e1">{"x":{"visdat":{"384030832496":["function () ","plotlyVisDat"]},"cur_data":"384030832496","attrs":{"384030832496":{"x":{},"y":{},"mode":"lines","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"time"},"yaxis":{"domain":[0,1],"automargin":true,"title":"value"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2025-11-01 00:00:00.000000","2025-11-02 00:00:00.000000","2025-11-03 00:00:00.000000"],"y":[10,15,12],"mode":"lines","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<script type="application/htmlwidget-sizing" data-for="htmlwidget-ab539ad61ceecce6c2e1">{"viewer":{"width":"100%","height":400,"padding":0,"fill":true},"browser":{"width":"100%","height":400,"padding":0,"fill":true}}</script>
</body>
</html>
